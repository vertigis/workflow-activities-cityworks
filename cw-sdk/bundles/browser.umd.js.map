{"version":3,"file":"browser.umd.js","sources":["../esm5/api-service/AuthenticationService.js","../esm5/core/service-types.js","../esm5/browser/http-service.js","../esm5/browser/cookie-service.js","../esm5/browser/api-service.js"],"sourcesContent":["var AuthenticationService = /** @class */ (function () {\r\n    function AuthenticationService(service) {\r\n        this._service = service;\r\n    }\r\n    AuthenticationService.prototype.Authenticate = function (request) {\r\n        return this._service.call(request, 'General/Authentication/Authenticate');\r\n    };\r\n    AuthenticationService.prototype.CityworksOnlineAuthenticate = function (request) {\r\n        return this._service.call(request, 'General/Authentication/CityworksOnlineAuthenticate');\r\n    };\r\n    AuthenticationService.prototype.CityworksOnlineSites = function (request) {\r\n        return this._service.call(request, 'General/Authentication/CityworksOnlineSites');\r\n    };\r\n    AuthenticationService.prototype.Domains = function (request) {\r\n        return this._service.call(request, 'General/Authentication/Domains');\r\n    };\r\n    AuthenticationService.prototype.User = function (request) {\r\n        return this._service.call(request, 'General/Authentication/User');\r\n    };\r\n    AuthenticationService.prototype.Validate = function (request) {\r\n        return this._service.call(request, 'General/Authentication/Validate');\r\n    };\r\n    AuthenticationService.prototype.Version = function (request) {\r\n        return this._service.call(request, 'General/Authentication/Version');\r\n    };\r\n    return AuthenticationService;\r\n}());\r\nexport { AuthenticationService };\r\n","export var ServiceTypes;\r\n(function (ServiceTypes) {\r\n    var CoreResponseMessageType;\r\n    (function (CoreResponseMessageType) {\r\n        CoreResponseMessageType[CoreResponseMessageType[\"Success\"] = 0] = \"Success\";\r\n        CoreResponseMessageType[CoreResponseMessageType[\"Warning\"] = 1] = \"Warning\";\r\n        CoreResponseMessageType[CoreResponseMessageType[\"Error\"] = 2] = \"Error\";\r\n    })(CoreResponseMessageType = ServiceTypes.CoreResponseMessageType || (ServiceTypes.CoreResponseMessageType = {}));\r\n    var CoreResponseStatus;\r\n    (function (CoreResponseStatus) {\r\n        CoreResponseStatus[CoreResponseStatus[\"Ok\"] = 0] = \"Ok\";\r\n        CoreResponseStatus[CoreResponseStatus[\"Error\"] = 1] = \"Error\";\r\n        CoreResponseStatus[CoreResponseStatus[\"Unauthorized\"] = 2] = \"Unauthorized\";\r\n        CoreResponseStatus[CoreResponseStatus[\"InvalidCredentials\"] = 3] = \"InvalidCredentials\";\r\n        CoreResponseStatus[CoreResponseStatus[\"ConnectionError\"] = -1] = \"ConnectionError\";\r\n    })(CoreResponseStatus = ServiceTypes.CoreResponseStatus || (ServiceTypes.CoreResponseStatus = {}));\r\n})(ServiceTypes || (ServiceTypes = {}));\r\n","function jsonParse(jsonText) {\r\n    //Date format is YYYY-MM-DDThh:mm:ss\r\n    //This is assumed to be local time and is only here for legacy reasons.\r\n    var DATE_REGEX_LOCAL = /(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2})$/;\r\n    return JSON.parse(jsonText, function (key, value) {\r\n        var retVal = value;\r\n        var isString = (value) && (typeof value == 'string');\r\n        var isStandardDate = isString && DATE_REGEX_LOCAL.test(value);\r\n        //------------------------------------------------------------\r\n        //  Try to parse dates\r\n        //------------------------------------------------------------\r\n        if (isStandardDate) {\r\n            var result = DATE_REGEX_LOCAL.exec(value);\r\n            if (result) {\r\n                // Get all of the date's components.\r\n                var year = parseInt(result[1]);\r\n                var month = parseInt(result[2]) - 1; // Month is zero based.\r\n                var day = parseInt(result[3]);\r\n                var hour = parseInt(result[4]);\r\n                var min = parseInt(result[5]);\r\n                var sec = parseInt(result[6]);\r\n                //Check for null date\r\n                if (year === 1 && month === 0 && day === 1) {\r\n                    retVal = null;\r\n                }\r\n                else {\r\n                    //Create the date. This is local time and is not correct unless the server\r\n                    //time is the same as local time.\r\n                    var localDate = new Date(year, month, day, hour, min, sec);\r\n                    //MUST set full year to handle cases such as \"0001-01-01\"\r\n                    localDate.setFullYear(year);\r\n                    retVal = localDate;\r\n                }\r\n            }\r\n        }\r\n        return retVal;\r\n    });\r\n}\r\nexport function post(url, token, csrfToken, csrfTokenHeader, dataParams) {\r\n    var xhr = new XMLHttpRequest();\r\n    var promise = new Promise(function (resolve, reject) {\r\n        var apiUrl = url;\r\n        var uri = '';\r\n        if (!dataParams)\r\n            dataParams = { data: {}, token: (token !== null ? token : '') };\r\n        else {\r\n            dataParams = { data: JSON.stringify(dataParams), token: (token !== null ? token : '') };\r\n        }\r\n        for (var key in dataParams) {\r\n            uri += encodeURIComponent(key) + '=' + encodeURIComponent(dataParams[key]) + '&';\r\n        }\r\n        xhr.open('POST', apiUrl, true);\r\n        xhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\r\n        if (csrfTokenHeader && csrfTokenHeader.length > 0 && csrfToken && csrfToken.length > 0) {\r\n            xhr.setRequestHeader(csrfTokenHeader, csrfToken);\r\n        }\r\n        xhr.onreadystatechange = function () {\r\n            if (xhr.readyState === 4) {\r\n                if (xhr.status === 200) {\r\n                    resolve(jsonParse(xhr.response));\r\n                }\r\n                else {\r\n                    reject(Error(xhr.statusText));\r\n                }\r\n            }\r\n        };\r\n        xhr.onerror = function () {\r\n            reject(Error('Network Error'));\r\n        };\r\n        xhr.send(uri);\r\n    });\r\n    return promise;\r\n}\r\n","var CookieService = /** @class */ (function () {\r\n    function CookieService() {\r\n    }\r\n    /**\r\n     *\r\n     */\r\n    CookieService.getCookieStringValue = function (cookieName) {\r\n        cookieName = (cookieName || '').toLowerCase();\r\n        if (cookieName.length < 1) {\r\n            return undefined;\r\n        }\r\n        var cookies = (document.cookie || '').split(';').map(function (a) { return a.trim(); });\r\n        var cookieIndex = -1;\r\n        for (var i = 0; i < cookies.length; i++) {\r\n            var cookie = cookies[i];\r\n            var name_1 = cookie.toLowerCase().slice(0, (cookieName + \"=\").length);\r\n            var match = name_1 === cookieName + \"=\";\r\n            if (match) {\r\n                cookieIndex = i;\r\n                break;\r\n            }\r\n        }\r\n        if (cookieIndex < 0) {\r\n            return undefined;\r\n        }\r\n        var rawCookie = cookies[cookieIndex];\r\n        var rawValue = rawCookie.slice((cookieName + \"=\").length) || '';\r\n        if (rawValue.length > 0) {\r\n            return decodeURIComponent(rawValue);\r\n        }\r\n        else {\r\n            return undefined;\r\n        }\r\n    };\r\n    return CookieService;\r\n}());\r\nexport { CookieService };\r\n","import { AuthenticationService } from '../api-service/AuthenticationService';\r\nimport { ServiceTypes } from '../core/service-types';\r\nimport * as http from './http-service';\r\nimport { CookieService } from './cookie-service';\r\nvar ApiService = /** @class */ (function () {\r\n    function ApiService(baseUrl, token) {\r\n        if (token === void 0) { token = undefined; }\r\n        this._csrfTokenCookieName = 'cw-reqtkn';\r\n        this._csrfHeaderName = 'cw-csrf';\r\n        this._baseUrl = undefined;\r\n        this._csrfToken = undefined;\r\n        this._token = undefined;\r\n        if (typeof token === 'undefined' || !token || token.length < 1) {\r\n            this._token = undefined;\r\n        }\r\n        else {\r\n            this._token = token;\r\n        }\r\n        if (typeof baseUrl === 'undefined' || !baseUrl || baseUrl.length < 1) {\r\n            this._baseUrl = undefined;\r\n        }\r\n        else {\r\n            this._baseUrl = cleanUrl(baseUrl);\r\n        }\r\n    }\r\n    ApiService.prototype.getToken = function () {\r\n        return this._token;\r\n    };\r\n    ApiService.prototype.initializeCsrfToken = function () {\r\n        this._csrfToken = CookieService.getCookieStringValue(this._csrfTokenCookieName);\r\n    };\r\n    ApiService.prototype.login = function (userName, password) {\r\n        var _this = this;\r\n        if (this._baseUrl === null) {\r\n            return Promise.reject(\"No Cityworks URL is set. URL must be set in the constructor.\");\r\n        }\r\n        var request = {\r\n            LoginName: userName,\r\n            Password: password\r\n        };\r\n        var svc = new AuthenticationService(this);\r\n        var promise = svc.Authenticate(request);\r\n        promise.then(function (resp) {\r\n            if (resp && resp.Status === ServiceTypes.CoreResponseStatus.Ok && resp.Value) {\r\n                _this._token = resp.Value.Token;\r\n            }\r\n            else {\r\n                _this._token = undefined;\r\n            }\r\n            return resp;\r\n        }, function (response) {\r\n            console.error(\"error logging in\");\r\n            console.error(response);\r\n            _this._token = undefined;\r\n            return response;\r\n        });\r\n        return promise;\r\n    };\r\n    ApiService.prototype.call = function (data, url) {\r\n        if (this._baseUrl === null) {\r\n            return Promise.reject(\"No Cityworks URL is set. URL must be set in the constructor.\");\r\n        }\r\n        return http.post(this._baseUrl + 'Services/' + url, this._token, this._csrfToken || undefined, this._csrfHeaderName, data);\r\n    };\r\n    return ApiService;\r\n}());\r\nexport { ApiService };\r\nfunction cleanUrl(u) {\r\n    var viewUrl = u[u.length - 1] === '/' || u[u.length - 1] == '\\\\' ? '' : (u.indexOf('/') > -1 ? '/' : '\\\\');\r\n    return u + viewUrl;\r\n}\r\n;\r\n"],"names":["http.post"],"mappings":"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"}